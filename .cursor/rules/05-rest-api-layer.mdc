---
description: REST API Layer ì½”ë”© ê·œì¹™ (Controller, DTO, Mapper)
globs: ["**/adapter/in/rest/**/*.java", "**/rest/**/*.java"]
alwaysApply: false
---

# REST API Layer Rules (58ê°œ ê·œì¹™)

REST API LayerëŠ” HTTP ìš”ì²­ì„ ë°›ì•„ UseCaseë¡œ ì „ë‹¬í•˜ê³  ì‘ë‹µì„ ë°˜í™˜í•˜ëŠ” ì—­í• ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤. Thin Controller íŒ¨í„´ì„ ì ìš©í•©ë‹ˆë‹¤.

---

## í•µì‹¬ ì›ì¹™ (Zero-Tolerance)

| Code | Rule | Detection |
|------|------|-----------|
| CTR-001 | Thin Controller íŒ¨í„´ | ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§, if/switch |
| CTR-002 | ResponseEntity<ApiResponse<T>> ë˜í•‘ | ë‹¨ë… ApiResponse ë˜ëŠ” ResponseEntity |
| CTR-004 | DELETE ë©”ì„œë“œ ê¸ˆì§€ | `@DeleteMapping` |
| CTR-005 | Controller @Transactional ê¸ˆì§€ | `@Transactional` |
| CTR-009 | Controller Lombok ê¸ˆì§€ | `@Data`, `@RequiredArgsConstructor` |
| DTO-001 | Request/Response DTO Record í•„ìˆ˜ | `class` í‚¤ì›Œë“œ DTO |
| DTO-002 | Request DTO @NotNull í•„ìˆ˜ | ê²€ì¦ ì–´ë…¸í…Œì´ì…˜ ëˆ„ë½ |
| DTO-014 | ApiResponse ì›ì‹œíƒ€ì… ë˜í•‘ ê¸ˆì§€ | `ApiResponse<String>`, `ApiResponse<Long>` |
| MAP-001 | Mapper @Component í•„ìˆ˜ | static ë©”ì„œë“œ Mapper |
| TEST-001 | RestDocsTestSupport ìƒì† í•„ìˆ˜ | `@WebMvcTest`, `MockMvc` |

---

## ì»´í¬ë„ŒíŠ¸ ì—­í•  ë¶„ë‹´

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    REST API Layer                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚Controllerâ”‚ Request  â”‚ Response â”‚ Mapper   â”‚ ErrorMapper    â”‚
â”‚(HTTP)    â”‚ (ì…ë ¥)   â”‚ (ì¶œë ¥)   â”‚ (ë³€í™˜)   â”‚ (ì˜ˆì™¸ì²˜ë¦¬)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Thin     â”‚ Record   â”‚ Record   â”‚@Componentâ”‚DomainException â”‚
â”‚ UseCase  â”‚ @Valid   â”‚ ë¶ˆë³€     â”‚Pure Java â”‚â†’ErrorResponse  â”‚
â”‚ ìœ„ì„ë§Œ   â”‚ @NotNull â”‚          â”‚Lombok âŒ â”‚                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Controller (CTR-*)

### Thin Controller íŒ¨í„´ (CTR-001) ğŸš¨ **Zero-Tolerance**

ControllerëŠ” HTTP ì–´ëŒ‘í„° ì—­í• ë§Œ ìˆ˜í–‰í•©ë‹ˆë‹¤. ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ í¬í•¨í•˜ë©´ ì•ˆ ë©ë‹ˆë‹¤.

```java
// âŒ BAD - ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ í¬í•¨
@RestController
public class OrderController {

    @PostMapping("/orders")
    public ResponseEntity<?> create(@RequestBody CreateOrderRequest request) {
        // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê¸ˆì§€!
        if (request.getQuantity() > 100) {
            throw new IllegalArgumentException("Too many items");
        }
        // í• ì¸ ê³„ì‚° ê¸ˆì§€!
        BigDecimal discount = calculateDiscount(request.getTotal());
        // Domain ê°ì²´ ì§ì ‘ ìƒì„± ê¸ˆì§€!
        Order order = new Order(request.getProductId(), discount);
        return ResponseEntity.ok(order);
    }
}

// âœ… GOOD - Thin Controller
@RestController
@RequestMapping("/api/v1/orders")
@Tag(name = "Order", description = "ì£¼ë¬¸ ê´€ë¦¬ API")
public class OrderCommandController {

    private final CreateOrderUseCase createOrderUseCase;
    private final OrderCommandApiMapper mapper;

    public OrderCommandController(CreateOrderUseCase createOrderUseCase,
                                  OrderCommandApiMapper mapper) {
        this.createOrderUseCase = createOrderUseCase;
        this.mapper = mapper;
    }

    @PostMapping
    @Operation(summary = "ì£¼ë¬¸ ìƒì„±")
    public ResponseEntity<ApiResponse<OrderIdApiResponse>> create(
            @Valid @RequestBody CreateOrderApiRequest request) {

        CreateOrderCommand command = mapper.toCommand(request);
        Long orderId = createOrderUseCase.execute(command);

        return ResponseEntity
            .status(HttpStatus.CREATED)
            .body(ApiResponse.success(new OrderIdApiResponse(orderId)));
    }
}
```

### ResponseEntity<ApiResponse<T>> í•„ìˆ˜ (CTR-002) ğŸš¨ **Zero-Tolerance**
```java
// âŒ BAD - ApiResponseë§Œ ë°˜í™˜
@GetMapping("/{id}")
public ApiResponse<OrderApiResponse> getOrder(@PathVariable Long id) {
    return ApiResponse.success(response);  // HTTP ìƒíƒœ ì½”ë“œ ì œì–´ ë¶ˆê°€
}

// âŒ BAD - ResponseEntityë§Œ ë°˜í™˜
@GetMapping("/{id}")
public ResponseEntity<OrderApiResponse> getOrder(@PathVariable Long id) {
    return ResponseEntity.ok(response);  // í‘œì¤€ ì‘ë‹µ í˜•ì‹ ìœ„ë°˜
}

// âœ… GOOD - ë‘˜ ë‹¤ ë˜í•‘
@GetMapping("/{id}")
public ResponseEntity<ApiResponse<OrderApiResponse>> getOrder(
        @PathVariable Long id) {
    OrderResponse order = getOrderUseCase.execute(new GetOrderQuery(id));
    return ResponseEntity.ok(
        ApiResponse.success(mapper.toApiResponse(order))
    );
}
```

### DELETE ë©”ì„œë“œ ê¸ˆì§€ (CTR-004) ğŸš¨ **Zero-Tolerance**
```java
// âŒ BAD - DELETE ë©”ì„œë“œ ì‚¬ìš©
@DeleteMapping("/{id}")
public ResponseEntity<Void> delete(@PathVariable Long id) {
    deleteUseCase.execute(id);
    return ResponseEntity.noContent().build();
}

// âœ… GOOD - PATCHë¡œ ì†Œí”„íŠ¸ ì‚­ì œ
@PatchMapping("/{id}/delete")
@Operation(summary = "ì£¼ë¬¸ ì‚­ì œ (ì†Œí”„íŠ¸)")
public ResponseEntity<ApiResponse<Void>> softDelete(@PathVariable Long id) {
    softDeleteOrderUseCase.execute(new DeleteOrderCommand(id));
    return ResponseEntity.ok(ApiResponse.success(null));
}
```

### CTR ê·œì¹™ ìƒì„¸

| Code | Rule | Severity |
|------|------|----------|
| CTR-001 | Thin Controller íŒ¨í„´ | BLOCKER |
| CTR-002 | ResponseEntity<ApiResponse<T>> ë˜í•‘ | BLOCKER |
| CTR-003 | @Valid í•„ìˆ˜ | CRITICAL |
| CTR-004 | DELETE ë©”ì„œë“œ ê¸ˆì§€ | BLOCKER |
| CTR-005 | @Transactional ê¸ˆì§€ | BLOCKER |
| CTR-006 | CQRS ë¶„ë¦¬ (Command/Query Controller) | CRITICAL |
| CTR-007 | ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê¸ˆì§€ | BLOCKER |
| CTR-008 | Domain ê°ì²´ ì§ì ‘ ìƒì„±/ì¡°ì‘ ê¸ˆì§€ | BLOCKER |
| CTR-009 | Lombok ê¸ˆì§€ | BLOCKER |

---

## Request DTO (DTO-*)

### Record í•„ìˆ˜ + @NotNull (DTO-001, DTO-002) ğŸš¨ **Zero-Tolerance**
```java
// âŒ BAD - class ì‚¬ìš© + ê²€ì¦ ëˆ„ë½
public class CreateOrderRequest {
    private Long productId;  // @NotNull ì—†ìŒ
    private Integer quantity;

    // getter/setter í•„ìš”...
}

// âœ… GOOD - Record + ê²€ì¦ ì–´ë…¸í…Œì´ì…˜
public record CreateOrderApiRequest(
    @NotNull @Schema(description = "ìƒí’ˆ ID", example = "1")
    Long productId,

    @NotNull @Min(1) @Schema(description = "ìˆ˜ëŸ‰", example = "2")
    Integer quantity,

    @NotBlank @Schema(description = "ë°°ì†¡ ì£¼ì†Œ")
    String shippingAddress
) {
    // Compact Constructor ê²€ì¦ (ì„ íƒ)
    public CreateOrderApiRequest {
        if (quantity != null && quantity > 1000) {
            throw new IllegalArgumentException("Maximum quantity is 1000");
        }
    }
}
```

### ê²€ìƒ‰ ì¡°ê±´ DTO
```java
public record SearchOrdersApiRequest(
    @Schema(description = "ì‚¬ìš©ì ID")
    Long userId,

    @Schema(description = "ì£¼ë¬¸ ìƒíƒœ")
    OrderStatus status,

    @Schema(description = "ì‹œì‘ì¼")
    LocalDate fromDate,

    @Schema(description = "ì¢…ë£Œì¼")
    LocalDate toDate,

    @Min(0) @Schema(description = "í˜ì´ì§€ ë²ˆí˜¸", defaultValue = "0")
    Integer page,

    @Min(1) @Max(100) @Schema(description = "í˜ì´ì§€ í¬ê¸°", defaultValue = "20")
    Integer size
) {
    public SearchOrdersApiRequest {
        page = page != null ? page : 0;
        size = size != null ? size : 20;
    }
}
```

### DTO ê·œì¹™ ìƒì„¸

| Code | Rule | Severity |
|------|------|----------|
| DTO-001 | Request/Response DTO Record í•„ìˆ˜ | BLOCKER |
| DTO-002 | Request DTO @NotNull í•„ìˆ˜ | BLOCKER |
| DTO-003 | @Schema ì„¤ëª… í•„ìˆ˜ | MAJOR |
| DTO-004 | ë„¤ì´ë°: *ApiRequest, *ApiResponse | MAJOR |
| DTO-005 | Lombok ê¸ˆì§€ | BLOCKER |
| DTO-006 | ë¶ˆë³€ì„± ìœ ì§€ | CRITICAL |
| DTO-007 | Domain ë³€í™˜ ë©”ì„œë“œ ê¸ˆì§€ (toDomain) | BLOCKER |
| DTO-008 | ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê¸ˆì§€ | BLOCKER |
| DTO-011 | Setter ê¸ˆì§€ | BLOCKER |
| DTO-014 | ApiResponse ì›ì‹œíƒ€ì… ë˜í•‘ ê¸ˆì§€ | BLOCKER |

### ApiResponse ì›ì‹œíƒ€ì… ë˜í•‘ ê¸ˆì§€ (DTO-014) ğŸš¨ **Zero-Tolerance**
```java
// âŒ BAD - ì›ì‹œíƒ€ì… ì§ì ‘ ë°˜í™˜
public ResponseEntity<ApiResponse<Long>> create(...) {
    return ResponseEntity.ok(ApiResponse.success(orderId));
}

// âœ… GOOD - ì „ìš© Response DTO ì‚¬ìš©
public record OrderIdApiResponse(
    @Schema(description = "ìƒì„±ëœ ì£¼ë¬¸ ID")
    Long orderId
) { }

public ResponseEntity<ApiResponse<OrderIdApiResponse>> create(...) {
    return ResponseEntity.ok(
        ApiResponse.success(new OrderIdApiResponse(orderId))
    );
}
```

---

## Response DTO

### í‘œì¤€ Response êµ¬ì¡°
```java
public record OrderApiResponse(
    @Schema(description = "ì£¼ë¬¸ ID")
    Long id,

    @Schema(description = "ì£¼ë¬¸ ìƒíƒœ")
    String status,

    @Schema(description = "ì´ ê¸ˆì•¡")
    BigDecimal totalAmount,

    @Schema(description = "ì£¼ë¬¸ í•­ëª© ëª©ë¡")
    List<OrderLineApiResponse> lines,

    @Schema(description = "ìƒì„± ì‹œê°„")
    Instant createdAt
) { }

public record OrderLineApiResponse(
    @Schema(description = "ìƒí’ˆ ID")
    Long productId,

    @Schema(description = "ìˆ˜ëŸ‰")
    Integer quantity,

    @Schema(description = "ë‹¨ê°€")
    BigDecimal unitPrice
) { }
```

### ëª©ë¡ ì¡°íšŒ Response
```java
public record OrderPageApiResponse(
    @Schema(description = "ì£¼ë¬¸ ëª©ë¡")
    List<OrderSummaryApiResponse> orders,

    @Schema(description = "ì „ì²´ ê°œìˆ˜")
    Long totalCount,

    @Schema(description = "í˜„ì¬ í˜ì´ì§€")
    Integer page,

    @Schema(description = "í˜ì´ì§€ í¬ê¸°")
    Integer size,

    @Schema(description = "ë‹¤ìŒ í˜ì´ì§€ ì¡´ì¬ ì—¬ë¶€")
    Boolean hasNext
) { }
```

---

## API Mapper (MAP-*)

### @Component í•„ìˆ˜ + Static ê¸ˆì§€ (MAP-001, MAP-002) ğŸš¨ **Zero-Tolerance**
```java
// âŒ BAD - static ë©”ì„œë“œ Mapper
public class OrderMapper {
    public static CreateOrderCommand toCommand(CreateOrderRequest req) {
        return new CreateOrderCommand(req.productId(), req.quantity());
    }
}

// âœ… GOOD - @Component Bean
@Component
public class OrderCommandApiMapper {

    // Request â†’ Command ë³€í™˜
    public CreateOrderCommand toCommand(CreateOrderApiRequest request) {
        return new CreateOrderCommand(
            request.productId(),
            request.quantity(),
            request.shippingAddress()
        );
    }

    // Query DTO â†’ Criteria ë³€í™˜
    public SearchOrderCriteria toCriteria(SearchOrdersApiRequest request) {
        return new SearchOrderCriteria(
            request.userId(),
            request.status(),
            request.fromDate(),
            request.toDate(),
            request.page(),
            request.size()
        );
    }
}

@Component
public class OrderQueryApiMapper {

    // Domain â†’ Response ë³€í™˜
    public OrderApiResponse toApiResponse(OrderResponse order) {
        return new OrderApiResponse(
            order.id(),
            order.status(),
            order.totalAmount(),
            toLineResponses(order.lines()),
            order.createdAt()
        );
    }

    private List<OrderLineApiResponse> toLineResponses(
            List<OrderLineResponse> lines) {
        return lines.stream()
            .map(this::toLineApiResponse)
            .toList();
    }

    private OrderLineApiResponse toLineApiResponse(OrderLineResponse line) {
        return new OrderLineApiResponse(
            line.productId(),
            line.quantity(),
            line.unitPrice()
        );
    }
}
```

### Mapper ì œì•½ì‚¬í•­ (MAP-004 ~ MAP-008) ğŸš¨ **Zero-Tolerance**
```java
// âŒ BAD - ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ í¬í•¨
@Component
public class OrderApiMapper {

    public CreateOrderCommand toCommand(CreateOrderApiRequest request) {
        // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê¸ˆì§€! (MAP-004)
        BigDecimal discount = request.quantity() > 10 ? 0.1 : 0;

        // ì¡°ê±´ë¶€ ë¡œì§ ê¸ˆì§€! (MAP-005)
        if (request.isVip()) {
            discount = 0.2;
        }

        return new CreateOrderCommand(...);
    }
}

// âœ… GOOD - í•„ë“œ ë§¤í•‘ë§Œ
@Component
public class OrderApiMapper {

    public CreateOrderCommand toCommand(CreateOrderApiRequest request) {
        return new CreateOrderCommand(
            request.productId(),
            request.quantity(),
            request.shippingAddress()
        );
    }
}
```

### MAP ê·œì¹™ ìƒì„¸

| Code | Rule | Severity |
|------|------|----------|
| MAP-001 | @Component í•„ìˆ˜ | BLOCKER |
| MAP-002 | static ë©”ì„œë“œ ê¸ˆì§€ | BLOCKER |
| MAP-003 | ìƒì„±ì ì£¼ì… | CRITICAL |
| MAP-004 | í•„ë“œ ë§¤í•‘ë§Œ (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê¸ˆì§€) | BLOCKER |
| MAP-005 | if/switch ì¡°ê±´ë¶€ ë¡œì§ ê¸ˆì§€ | BLOCKER |
| MAP-006 | Domain ê°ì²´ ì§ì ‘ ì‚¬ìš© ê¸ˆì§€ | BLOCKER |
| MAP-007 | Lombok ê¸ˆì§€ | BLOCKER |
| MAP-008 | Repository/UseCase ì£¼ì… ê¸ˆì§€ | BLOCKER |

---

## Error Mapper

### Domain Exception â†’ Error Response ë³€í™˜
```java
@Component
public class OrderErrorMapper implements DomainErrorMapper {

    @Override
    public Class<? extends DomainException> getSupportedException() {
        return OrderException.class;
    }

    @Override
    public ErrorResponse toErrorResponse(DomainException exception) {
        return switch (exception) {
            case OrderNotFoundException e -> ErrorResponse.of(
                "ORDER_NOT_FOUND",
                "ì£¼ë¬¸ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: " + e.getOrderId(),
                HttpStatus.NOT_FOUND
            );
            case OrderAlreadyCancelledException e -> ErrorResponse.of(
                "ORDER_ALREADY_CANCELLED",
                "ì´ë¯¸ ì·¨ì†Œëœ ì£¼ë¬¸ì…ë‹ˆë‹¤",
                HttpStatus.CONFLICT
            );
            default -> ErrorResponse.of(
                exception.getErrorCode(),
                exception.getMessage(),
                HttpStatus.BAD_REQUEST
            );
        };
    }
}
```

---

## Query Controller ì˜ˆì‹œ

```java
@RestController
@RequestMapping("/api/v1/orders")
@Tag(name = "Order Query", description = "ì£¼ë¬¸ ì¡°íšŒ API")
public class OrderQueryController {

    private final GetOrderUseCase getOrderUseCase;
    private final SearchOrdersUseCase searchOrdersUseCase;
    private final OrderQueryApiMapper mapper;

    public OrderQueryController(
            GetOrderUseCase getOrderUseCase,
            SearchOrdersUseCase searchOrdersUseCase,
            OrderQueryApiMapper mapper) {
        this.getOrderUseCase = getOrderUseCase;
        this.searchOrdersUseCase = searchOrdersUseCase;
        this.mapper = mapper;
    }

    @GetMapping("/{id}")
    @Operation(summary = "ì£¼ë¬¸ ë‹¨ê±´ ì¡°íšŒ")
    public ResponseEntity<ApiResponse<OrderApiResponse>> getOrder(
            @PathVariable Long id) {
        OrderResponse order = getOrderUseCase.execute(new GetOrderQuery(id));
        return ResponseEntity.ok(
            ApiResponse.success(mapper.toApiResponse(order))
        );
    }

    @GetMapping
    @Operation(summary = "ì£¼ë¬¸ ëª©ë¡ ì¡°íšŒ")
    public ResponseEntity<ApiResponse<OrderPageApiResponse>> searchOrders(
            @Valid SearchOrdersApiRequest request) {
        SearchOrderCriteria criteria = mapper.toCriteria(request);
        OrderPageResponse result = searchOrdersUseCase.execute(criteria);
        return ResponseEntity.ok(
            ApiResponse.success(mapper.toPageResponse(result))
        );
    }
}
```

---

## í…ŒìŠ¤íŠ¸ ê·œì¹™ (TEST-*)

### TestRestTemplate í•„ìˆ˜ (TEST-001) ğŸš¨ **Zero-Tolerance**
```java
// âŒ BAD - MockMvc ì‚¬ìš©
@WebMvcTest(OrderController.class)
class OrderControllerTest {
    @Autowired
    MockMvc mockMvc;

    @Test
    void test() throws Exception {
        mockMvc.perform(get("/api/v1/orders/1"))
            .andExpect(status().isOk());
    }
}

// âœ… GOOD - TestRestTemplate ì‚¬ìš©
class OrderControllerDocsTest extends RestDocsTestSupport {

    @Autowired
    TestRestTemplate restTemplate;

    @Test
    @Sql("/sql/order-test-data.sql")
    void getOrder_success() {
        // given
        Long orderId = 1L;

        // when
        ResponseEntity<ApiResponse<OrderApiResponse>> response =
            restTemplate.exchange(
                "/api/v1/orders/{id}",
                HttpMethod.GET,
                null,
                new ParameterizedTypeReference<>() {},
                orderId
            );

        // then
        assertThat(response.getStatusCode()).isEqualTo(HttpStatus.OK);
        assertThat(response.getBody().getData().id()).isEqualTo(orderId);
    }
}
```

### í…ŒìŠ¤íŠ¸ ê·œì¹™ ìƒì„¸

| Code | Rule | Severity |
|------|------|----------|
| TEST-001 | RestDocsTestSupport ìƒì† í•„ìˆ˜ | BLOCKER |
| TEST-002 | TestRestTemplate ì‚¬ìš© (MockMvc ê¸ˆì§€) | BLOCKER |
| TEST-003 | @Sqlë¡œ í…ŒìŠ¤íŠ¸ ë°ì´í„° ì„¤ì • | CRITICAL |
| TEST-004 | E2E í†µí•© í…ŒìŠ¤íŠ¸ | CRITICAL |
| TEST-005 | ì‹¤ì œ HTTP ìš”ì²­/ì‘ë‹µ ê²€ì¦ | CRITICAL |

---

## OpenAPI ë¬¸ì„œí™”

### Controller ì–´ë…¸í…Œì´ì…˜
```java
@RestController
@RequestMapping("/api/v1/orders")
@Tag(name = "Order", description = "ì£¼ë¬¸ ê´€ë¦¬ API")
public class OrderCommandController {

    @PostMapping
    @Operation(
        summary = "ì£¼ë¬¸ ìƒì„±",
        description = "ìƒˆë¡œìš´ ì£¼ë¬¸ì„ ìƒì„±í•©ë‹ˆë‹¤",
        responses = {
            @ApiResponse(responseCode = "201", description = "ì£¼ë¬¸ ìƒì„± ì„±ê³µ"),
            @ApiResponse(responseCode = "400", description = "ì˜ëª»ëœ ìš”ì²­"),
            @ApiResponse(responseCode = "404", description = "ìƒí’ˆì„ ì°¾ì„ ìˆ˜ ì—†ìŒ")
        }
    )
    public ResponseEntity<ApiResponse<OrderIdApiResponse>> create(...) {
        // ...
    }
}
```

---

## ì°¸ì¡° ë¬¸ì„œ
- ì „ì²´ ê·œì¹™: `.claude/knowledge/rules/rest-api-rules.md` (58ê°œ)
- í´ë˜ìŠ¤ í…œí”Œë¦¿: `.claude/knowledge/templates/rest-api-templates.md` (37ê°œ)
- GOOD/BAD ì˜ˆì œ: `.claude/knowledge/examples/rest-api-examples.md` (62ê°œ)
