# Spring Standards Project - Claude Code Configuration

ì´ í”„ë¡œì íŠ¸ëŠ” **Spring Boot 3.5.x + Java 21** ê¸°ë°˜ì˜ í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜ ì—”í„°í”„ë¼ì´ì¦ˆ í‘œì¤€ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.

---

## ê°œë°œ ì² í•™: Documentation-Driven Development

ì´ í”„ë¡œì íŠ¸ëŠ” **ë¬¸ì„œ ê¸°ë°˜ ê°œë°œ (Documentation-Driven Development)**ì„ ì±„íƒí•©ë‹ˆë‹¤:

### í•µì‹¬ ê°œë…

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“š Documentation-Driven Development                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ 88ê°œ ì½”ë”© ì»¨ë²¤ì…˜ ë¬¸ì„œê°€ ì„¤ê³„ë¥¼ ê°•ì œ                        â”‚
â”‚  â€¢ êµ¬í˜„ + í…ŒìŠ¤íŠ¸ ë™ì‹œ ì‘ì„± (TDD ì»¤ë°‹ ë¶„ë¦¬ ë¶ˆí•„ìš”)             â”‚
â”‚  â€¢ ArchUnit + Integration Testë¡œ í’ˆì§ˆ ë³´ì¥                  â”‚
â”‚  â€¢ ê¸°ì¡´ ì½”ë“œ ìˆ˜ì • ì‹œì—ë§Œ TDD ì ìš©                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì „ëµ ë¶„ê¸°

```
ê¸°ëŠ¥ ìš”ì²­
    â†“
/plan "{ê¸°ëŠ¥ëª…}"
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì˜í–¥ë„ ë¶„ì„ (Serena MCP ê²€ìƒ‰)            â”‚
â”‚   - ê¸°ì¡´ ì½”ë“œ ì¡´ì¬? â†’ ìˆ˜ì • í•„ìš”?         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“                      â†“
ê¸°ì¡´ ì½”ë“œ ìˆ˜ì •            ì‹ ê·œ ì½”ë“œ ìƒì„±
    â†“                      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   TDD    â”‚          â”‚ Doc-Drivenâ”‚
â”‚ /kb/*/go â”‚          â”‚  /impl    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì»¤ë°‹ ê·œì¹™ (ë‹¨ìˆœí™”)

| Prefix | ìš©ë„ | ì˜ˆì‹œ |
|--------|------|------|
| `feat:` | ê¸°ëŠ¥ ì¶”ê°€ (êµ¬í˜„ + í…ŒìŠ¤íŠ¸ í¬í•¨) | `feat: ì£¼ë¬¸ ì·¨ì†Œ ê¸°ëŠ¥ êµ¬í˜„` |
| `fix:` | ë²„ê·¸ ìˆ˜ì • | `fix: Email null ì²˜ë¦¬ ëˆ„ë½ ìˆ˜ì •` |
| `chore:` | ë¹Œë“œ/ì„¤ì • ë³€ê²½ | `chore: Gradle ë²„ì „ ì—…ë°ì´íŠ¸` |

---

## ê°œë°œ ì›Œí¬í”Œë¡œìš°

### 1. ê¸°ëŠ¥ ê¸°íš â†’ êµ¬í˜„ ì „ì²´ íë¦„

```bash
# 1ï¸âƒ£ ìš”êµ¬ì‚¬í•­ ë¶„ì„ + êµ¬í˜„ ê³„íš ìˆ˜ë¦½
/plan "ì£¼ë¬¸ ì·¨ì†Œ ê¸°ëŠ¥"
    â†“
# 2ï¸âƒ£ ì˜í–¥ë„ ë¶„ì„ ê²°ê³¼ì— ë”°ë¼ ìë™ ë¶„ê¸°
    â”œâ”€ ì‹ ê·œ ìƒì„± â†’ /impl {layer} {feature}
    â””â”€ ê¸°ì¡´ ìˆ˜ì • â†’ /kb/{layer}/go

# 3ï¸âƒ£ Layerë³„ ìˆœì°¨ êµ¬í˜„
/impl domain order-cancel       # Domain Layer
/impl application order-cancel  # Application Layer
/impl persistence order-cancel  # Persistence Layer
/impl rest-api order-cancel     # REST API Layer

# 4ï¸âƒ£ ì „ì²´ ê²€ì¦
./gradlew test
```

### 2. /plan ì»¤ë§¨ë“œ

**ëª©ì **: ìš”êµ¬ì‚¬í•­ ë¶„ì„ â†’ ì˜í–¥ë„ ë¶„ì„ â†’ êµ¬í˜„ ì „ëµ ê²°ì •

**ì‹¤í–‰ ì˜ˆì‹œ**:
```bash
/plan "ì£¼ë¬¸ ì·¨ì†Œ ê¸°ëŠ¥"
```

**í”„ë¡œì„¸ìŠ¤**:
1. **ìš”êµ¬ì‚¬í•­ ë¶„ì„** (requirements-analyst Skill)
   - ì¶”ìƒì  ìš”êµ¬ì‚¬í•­ â†’ êµ¬ì²´ì  ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™
   - ì§ˆë¬¸ì„ í†µí•œ ë””í…Œì¼ í™•ë³´

2. **ì˜í–¥ë„ ë¶„ì„** (layer-architect Skill)
   - Serena MCPë¡œ ê¸°ì¡´ ì½”ë“œ ê²€ìƒ‰
   - ìˆ˜ì • vs ì‹ ê·œ íŒë‹¨

3. **êµ¬í˜„ ì „ëµ ê²°ì •**
   - ğŸ”§ ê¸°ì¡´ ìˆ˜ì • â†’ TDD (`/kb/*/go`)
   - ğŸ†• ì‹ ê·œ ìƒì„± â†’ Doc-Driven (`/impl`)

4. **Serena Memory ì €ì¥**
   - `plan-{feature}` ì´ë¦„ìœ¼ë¡œ ì €ì¥
   - ì˜¤í† ì»´íŒ©íŒ… ëŒ€ë¹„ ì»¨í…ìŠ¤íŠ¸ ë³´ì¡´

### 3. /impl ì»¤ë§¨ë“œ (Doc-Driven êµ¬í˜„)

**ëª©ì **: ë¬¸ì„œ ê¸°ë°˜ ì‹ ê·œ ì½”ë“œ ìƒì„± (êµ¬í˜„ + í…ŒìŠ¤íŠ¸ ë™ì‹œ)

**Layerë³„ ëª…ë ¹ì–´**:
```bash
/impl domain {feature}       # Aggregate, VO, Exception, Event
/impl application {feature}  # UseCase, Service, DTO, Assembler
/impl persistence {feature}  # Entity, Repository, Mapper, Adapter
/impl rest-api {feature}     # Controller, Request/Response DTO
```

**íŠ¹ì§•**:
- êµ¬í˜„ + í…ŒìŠ¤íŠ¸ ë™ì‹œ ì‘ì„±
- `feat:` ë‹¨ì¼ ì»¤ë°‹ (í…ŒìŠ¤íŠ¸ í¬í•¨)
- Zero-Tolerance ê·œì¹™ ìë™ ì¤€ìˆ˜
- Plan memory ìë™ ì—…ë°ì´íŠ¸

### 4. /kb/*/go ì»¤ë§¨ë“œ (TDD ìˆ˜ì •)

**ëª©ì **: ê¸°ì¡´ ì½”ë“œ ì•ˆì „í•˜ê²Œ ìˆ˜ì •

**ì‚¬ìš© ì‹œì **: `/plan` ë¶„ì„ ê²°ê³¼ ê¸°ì¡´ ì½”ë“œ ìˆ˜ì •ì´ í•„ìš”í•œ ê²½ìš°

**Layerë³„ ëª…ë ¹ì–´**:
```bash
/kb/domain/go       # Domain ê¸°ì¡´ ì½”ë“œ TDD ìˆ˜ì •
/kb/application/go  # Application ê¸°ì¡´ ì½”ë“œ TDD ìˆ˜ì •
/kb/persistence/go  # Persistence ê¸°ì¡´ ì½”ë“œ TDD ìˆ˜ì •
/kb/rest-api/go     # REST API ê¸°ì¡´ ì½”ë“œ TDD ìˆ˜ì •
```

---

## Serena Memory ì—°ë™

### ì»´íŒ©íŒ… ëŒ€ì‘

```
ì„¸ì…˜ 1                          ì„¸ì…˜ 2 (ì»´íŒ©íŒ… í›„)
â”€â”€â”€â”€â”€â”€â”€â”€                        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
/plan "ê¸°ëŠ¥A"                   "ì•„ê¹Œ ì‘ì—… ì´ì–´ì„œ"
  â†“                               â†“
write_memory("plan-A")          read_memory("plan-A")
  â†“                               â†“
/impl domain ...                ì»¨í…ìŠ¤íŠ¸ ë³µêµ¬ âœ…
  â†“                               â†“
âš ï¸ ì˜¤í† ì»´íŒ©íŒ…                   /impl application ... ê³„ì†
```

### ì‘ì—… ì¬ê°œ

```bash
# ì§„í–‰ ì¤‘ì¸ ì‘ì—… í™•ì¸
"í˜„ì¬ ì§„í–‰ ì¤‘ì¸ ì‘ì—… í™•ì¸í•´ì¤˜"

# íŠ¹ì • ì‘ì—… ì¬ê°œ
"ì£¼ë¬¸ ì·¨ì†Œ ì‘ì—… ì´ì–´ì„œ í•´ì¤˜"
```

---

## ğŸ“š ì½”ë”© ê·œì¹™ (docs/coding_convention/)

### ë ˆì´ì–´ë³„ ê·œì¹™ êµ¬ì¡°

```
docs/coding_convention/
â”œâ”€â”€ 00-project-setup/         # í”„ë¡œì íŠ¸ ì„¤ì •
â”œâ”€â”€ 01-adapter-in-layer/      # REST API Layer
â”œâ”€â”€ 02-domain-layer/          # Domain Layer
â”œâ”€â”€ 03-application-layer/     # Application Layer
â”œâ”€â”€ 04-persistence-layer/     # Persistence Layer
â””â”€â”€ 05-testing/               # í…ŒìŠ¤íŠ¸ ê·œì¹™
```

**ì´ 88ê°œ ê·œì¹™** - êµ¬í˜„ ì‹œ ìë™ ì°¸ì¡°ë¨

---

## ğŸ—ï¸ í”„ë¡œì íŠ¸ í•µì‹¬ ì›ì¹™

### 1. ì•„í‚¤í…ì²˜ íŒ¨í„´
- **í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜** (Ports & Adapters) - ì˜ì¡´ì„± ì—­ì „
- **ë„ë©”ì¸ ì£¼ë„ ì„¤ê³„** (DDD) - Aggregate ì¤‘ì‹¬ ì„¤ê³„
- **CQRS** - Command/Query ë¶„ë¦¬

### 2. ì½”ë“œ í’ˆì§ˆ ê·œì¹™ (Zero-Tolerance)
- **Lombok ê¸ˆì§€** - Plain Java ì‚¬ìš© (Domain layerì—ì„œ íŠ¹íˆ ì—„ê²©)
- **Law of Demeter** - Getter ì²´ì´ë‹ ê¸ˆì§€ (`order.getCustomer().getAddress()` âŒ)
- **Long FK ì „ëµ** - JPA ê´€ê³„ ì–´ë…¸í…Œì´ì…˜ ê¸ˆì§€, Long userId ì‚¬ìš©
- **Transaction ê²½ê³„** - `@Transactional` ë‚´ ì™¸ë¶€ API í˜¸ì¶œ ì ˆëŒ€ ê¸ˆì§€

### 3. Spring í”„ë¡ì‹œ ì œì•½ì‚¬í•­ (ì¤‘ìš”!)
âš ï¸ **ë‹¤ìŒ ê²½ìš° `@Transactional`ì´ ì‘ë™í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤:**
- Private ë©”ì„œë“œ
- Final í´ë˜ìŠ¤/ë©”ì„œë“œ
- ê°™ì€ í´ë˜ìŠ¤ ë‚´ë¶€ í˜¸ì¶œ (`this.method()`)

---

## ğŸ”§ ìë™í™” ì‹œìŠ¤í…œ

### 1. Claude Skills

| Skill | ì—­í•  | í™œì„±í™” ì‹œì  |
|-------|------|------------|
| `requirements-analyst` | ìš”êµ¬ì‚¬í•­ ë¶„í•´ ì „ë¬¸ê°€ | `/plan` ì‹¤í–‰ ì‹œ |
| `layer-architect` | ë ˆì´ì–´ ë§¤í•‘ + ì˜í–¥ë„ ë¶„ì„ | `/plan` ì‹¤í–‰ ì‹œ |
| `domain-expert` | Domain Layer ê·œì¹™ | `/impl domain`, `/kb/domain` |
| `application-expert` | Application Layer ê·œì¹™ | `/impl application`, `/kb/application` |
| `persistence-expert` | Persistence Layer ê·œì¹™ | `/impl persistence`, `/kb/persistence` |
| `rest-api-expert` | REST API Layer ê·œì¹™ | `/impl rest-api`, `/kb/rest-api` |

### 2. Claude Commands

| Command | ìš©ë„ |
|---------|------|
| `/plan "{ê¸°ëŠ¥}"` | ìš”êµ¬ì‚¬í•­ ë¶„ì„ + êµ¬í˜„ ê³„íš |
| `/impl {layer} {feature}` | Doc-Driven ì‹ ê·œ êµ¬í˜„ |
| `/kb/{layer}/go` | TDD ê¸°ì¡´ ì½”ë“œ ìˆ˜ì • |
| `/create-prd` | PRD ë¬¸ì„œ ìƒì„± |

### 3. ArchUnit Tests

**ìœ„ì¹˜**: ê° ëª¨ë“ˆì˜ `src/test/java/.../architecture/`

- **ì•„í‚¤í…ì²˜ ê·œì¹™ ìë™ ê²€ì¦**: ë ˆì´ì–´ ì˜ì¡´ì„±, ë„¤ì´ë° ê·œì¹™
- **ë¹Œë“œ ì‹œ ìë™ ì‹¤í–‰**: ìœ„ë°˜ ì‹œ ë¹Œë“œ ì‹¤íŒ¨

---

## Layerë³„ Zero-Tolerance ê·œì¹™

### Domain Layer
- âœ… Lombok ê¸ˆì§€
- âœ… Law of Demeter (Getter ì²´ì´ë‹ ê¸ˆì§€)
- âœ… Tell, Don't Ask (ìƒíƒœ ë¬»ì§€ ë§ê³  í–‰ë™ ìš”ì²­)
- âœ… Long FK ì „ëµ

### Application Layer
- âœ… Transaction ê²½ê³„ (`@Transactional` ë‚´ ì™¸ë¶€ API ê¸ˆì§€)
- âœ… CQRS ë¶„ë¦¬ (Command/Query UseCase ë¶„ë¦¬)
- âœ… DTOëŠ” Record
- âœ… Assembler ì‚¬ìš©

### Persistence Layer
- âœ… Long FK ì „ëµ (JPA ê´€ê³„ ì–´ë…¸í…Œì´ì…˜ ê¸ˆì§€)
- âœ… QueryDSL DTO Projection
- âœ… Lombok ê¸ˆì§€
- âœ… Mapper ë¶„ë¦¬

### REST API Layer
- âœ… RESTful ì„¤ê³„
- âœ… Request/Response DTO ë¶„ë¦¬
- âœ… @Valid í•„ìˆ˜
- âœ… TestRestTemplate (MockMvc ê¸ˆì§€)

---

## ë¹ ë¥¸ ì‹œì‘

```bash
# 1. ìƒˆ ê¸°ëŠ¥ êµ¬í˜„
/plan "íšŒì› ê°€ì… ê¸°ëŠ¥"

# 2. ìŠ¹ì¸ í›„ ìë™ìœ¼ë¡œ /impl ì‹œì‘
[Y] ì§„í–‰

# 3. Layerë³„ ìˆœì°¨ êµ¬í˜„ (ìë™ ì—°ê²°)
â†’ Domain â†’ Application â†’ Persistence â†’ REST API

# 4. ì „ì²´ ê²€ì¦
./gradlew test
```
